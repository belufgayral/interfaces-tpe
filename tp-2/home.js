const gamesCardData = [
    {
        id: 1,
        title: 'Metal Gear Solid V',
        titleForImg: 'metalgearsolid5',
        forYou: false,
        genre: 'Aventura',
        paid: false,
        price: 'free',
        img: '',
    },
    {
        id: 2,
        title: 'Silent Hill 2',
        titleForImg: 'silenthill2',
        forYou: false,
        genre: 'Terror',
        paid: true,
        price: '50',
        img: '',
    },
    {
        id: 3,
        title: 'Death Stranding',
        titleForImg: 'deathstranding',
        forYou: false,
        genre: 'Aventura',
        paid: true,
        price: '869',
        img: '',
    },
    {
        id: 4,
        title: 'Rise of Tomb Raider',
        titleForImg: 'riseofthetombraider',
        forYou: false,
        genre: 'Aventura',
        paid: false,
        price: 'free',
        img: '',
    },
    {
        id: 5,
        title: 'Age of Empires II',
        titleForImg: 'ageofempires2',
        forYou: false,
        genre: 'Estrategia',
        paid: true,
        price: '79',
        img: '',
    },
    {
        id: 6,
        title: 'Samurai Senso',
        titleForImg: 'samuraisenso',
        forYou: true,
        genre: 'Estrategia',
        paid: false,
        price: 'free',
        img: '',
    },
    {
        id: 7,
        title: 'Persona 5',
        titleForImg: 'persona5',
        forYou: true,
        genre: 'Aventura',
        paid: true,
        price: '440',
        img: '',
    },
    {
        id: 8,
        title: 'Bioshock',
        titleForImg: 'bioshock',
        forYou: false,
        genre: 'Accion',
        paid: false,
        price: 'free',
        img: '',
    },
    {
        id: 8,
        title: 'Genshin Impact',
        titleForImg: 'genshinimpact',
        forYou: true,
        genre: 'Estrategia',
        paid: true,
        price: '129',
        img: '',
    },
    {
        id: 1,
        title: 'Metal Gear Solid V',
        titleForImg: 'metalgearsolid5',
        forYou: false,
        genre: 'Aventura',
        paid: false,
        price: 'free',
        img: '',
    },
    {
        id: 2,
        title: 'Silent Hill 2',
        titleForImg: 'silenthill2',
        forYou: false,
        genre: 'Terror',
        paid: true,
        price: '50',
        img: '',
    },
    {
        id: 3,
        title: 'Death Stranding',
        titleForImg: 'deathstranding',
        forYou: false,
        genre: 'Aventura',
        paid: true,
        price: '869',
        img: '',
    },
    {
        id: 4,
        title: 'Rise of Tomb Raider',
        titleForImg: 'riseofthetombraider',
        forYou: false,
        genre: 'Aventura',
        paid: false,
        price: 'free',
        img: '',
    },
    {
        id: 5,
        title: 'Age of Empires II',
        titleForImg: 'ageofempires2',
        forYou: false,
        genre: 'Estrategia',
        paid: true,
        price: '79',
        img: '',
    },
    {
        id: 6,
        title: 'Samurai Senso',
        titleForImg: 'samuraisenso',
        forYou: true,
        genre: 'Estrategia',
        paid: false,
        price: 'free',
        img: '',
    },
    {
        id: 7,
        title: 'Persona 5',
        titleForImg: 'persona5',
        forYou: true,
        genre: 'Aventura',
        paid: true,
        price: '440',
        img: '',
    },
    {
        id: 8,
        title: 'Bioshock',
        titleForImg: 'bioshock',
        forYou: false,
        genre: 'Accion',
        paid: false,
        price: 'free',
        img: '',
    },
    {
        id: 8,
        title: 'Genshin Impact',
        titleForImg: 'genshinimpact',
        forYou: true,
        genre: 'Estrategia',
        paid: true,
        price: '129',
        img: '',
    },
    {
        id: 1,
        title: 'Metal Gear Solid V',
        titleForImg: 'metalgearsolid5',
        forYou: false,
        genre: 'Aventura',
        paid: false,
        price: 'free',
        img: '',
    },
    {
        id: 2,
        title: 'Silent Hill 2',
        titleForImg: 'silenthill2',
        forYou: false,
        genre: 'Terror',
        paid: true,
        price: '50',
        img: '',
    },
    {
        id: 3,
        title: 'Death Stranding',
        titleForImg: 'deathstranding',
        forYou: false,
        genre: 'Aventura',
        paid: true,
        price: '869',
        img: '',
    },
    {
        id: 4,
        title: 'Rise of Tomb Raider',
        titleForImg: 'riseofthetombraider',
        forYou: false,
        genre: 'Aventura',
        paid: false,
        price: 'free',
        img: '',
    },
    {
        id: 5,
        title: 'Age of Empires II',
        titleForImg: 'ageofempires2',
        forYou: false,
        genre: 'Estrategia',
        paid: true,
        price: '79',
        img: '',
    },
    {
        id: 6,
        title: 'Samurai Senso',
        titleForImg: 'samuraisenso',
        forYou: true,
        genre: 'Estrategia',
        paid: false,
        price: 'free',
        img: '',
    },
    {
        id: 7,
        title: 'Persona 5',
        titleForImg: 'persona5',
        forYou: true,
        genre: 'Aventura',
        paid: true,
        price: '440',
        img: '',
    },
    {
        id: 8,
        title: 'Bioshock',
        titleForImg: 'bioshock',
        forYou: false,
        genre: 'Accion',
        paid: false,
        price: 'free',
        img: '',
    },
    {
        id: 8,
        title: 'Genshin Impact',
        titleForImg: 'genshinimpact',
        forYou: true,
        genre: 'Estrategia',
        paid: true,
        price: '129',
        img: '',
    },
    {
        id: 1,
        title: 'Metal Gear Solid V',
        titleForImg: 'metalgearsolid5',
        forYou: false,
        genre: 'Aventura',
        paid: false,
        price: 'free',
        img: '',
    },
    {
        id: 2,
        title: 'Silent Hill 2',
        titleForImg: 'silenthill2',
        forYou: false,
        genre: 'Terror',
        paid: true,
        price: '50',
        img: '',
    },
    {
        id: 3,
        title: 'Death Stranding',
        titleForImg: 'deathstranding',
        forYou: false,
        genre: 'Aventura',
        paid: true,
        price: '869',
        img: '',
    },
    {
        id: 4,
        title: 'Rise of Tomb Raider',
        titleForImg: 'riseofthetombraider',
        forYou: false,
        genre: 'Aventura',
        paid: false,
        price: 'free',
        img: '',
    },
    {
        id: 5,
        title: 'Age of Empires II',
        titleForImg: 'ageofempires2',
        forYou: false,
        genre: 'Estrategia',
        paid: true,
        price: '79',
        img: '',
    },
    {
        id: 6,
        title: 'Samurai Senso',
        titleForImg: 'samuraisenso',
        forYou: true,
        genre: 'Estrategia',
        paid: false,
        price: 'free',
        img: '',
    },
    {
        id: 7,
        title: 'Persona 5',
        titleForImg: 'persona5',
        forYou: true,
        genre: 'Aventura',
        paid: true,
        price: '440',
        img: '',
    },
    {
        id: 8,
        title: 'Bioshock',
        titleForImg: 'bioshock',
        forYou: false,
        genre: 'Accion',
        paid: false,
        price: 'free',
        img: '',
    },
    {
        id: 8,
        title: 'Genshin Impact',
        titleForImg: 'genshinimpact',
        forYou: true,
        genre: 'Estrategia',
        paid: true,
        price: '129',
        img: '',
    },
]


function renderGameCards(genre) {
    const container = document.getElementById(genre.toLowerCase());
    if (!container) {
        console.error(`Container con id="${genre.toLowerCase()}" no ha sido hallado.`);
        return;
    }

    // filtramos los juegos de manera condicional por genero o por forYou
    let genreGames;
    if (genre !== 'parati') {
        genreGames = gamesCardData.filter(game => game.genre === genre);
    } else {
        genreGames = gamesCardData.filter(game => game.forYou)
    }


    if (genreGames.length === 0) {
        console.warn(`No se hallaron juegos para el siguiente genero: "${genre}".`);
        return;
    }

    // limpiamos el container
    container.innerHTML = '';

    // iteramos los juegos filtrados por genero para generar el layout de la card y su contenido de manera dinamica
    genreGames.forEach(game => {
        const card = document.createElement('div');
        card.classList.add('cardGame'); // definimos "cardGame" como clase para nuestro css
        const cardTitle = document.createElement('div');
        cardTitle.classList.add('cardGameTitle');
        const cardFavIcon = document.createElement('div');
        cardFavIcon.classList.add('cardFavIcon');
        const cardToPayIcon = document.createElement('div');
        cardToPayIcon.classList.add('toPayIcon');

        // creamos contenido y precio, esto va a ser contenido para la card
        const title = document.createElement('h3');
        title.classList.add('cardTitle')
        title.textContent = game.title;

        const price = document.createElement('p');
        price.textContent = `Price: $${game.price}`;

        const carritoDiv = document.createElement('div')
        carritoDiv.classList.add('carritoDiv')
        carritoDiv.textContent = 'Agregar al carrito'

        // creamos el img elem
        const img = document.createElement('img');
        genre !== 'parati' ? img.classList.add('cardBgImg') : img.classList.add('cardForYouBgImg')
        img.src = `../tp-2/css/images/cards/${game.titleForImg}.png`;
        img.alt = game.title;

        //aca creamos el icon fav y otros iconos que necesitemos
        const favIcon = document.createElement('img')
        favIcon.src = '../tp-2/css/images/icons/fav.svg'
        favIcon.alt = 'fav-icon-heart'

        const toPayIcon = document.createElement('img')
        toPayIcon.src = '../tp-2/css/images/icons/toPay.svg'
        toPayIcon.alt = 'to-pay-icon'

        // hacemos el append al contenido de la card
        //card.appendChild(price);
        card.appendChild(img);
        card.appendChild(cardTitle);
        card.appendChild(carritoDiv)
        card.appendChild(cardFavIcon)
        game.paid && card.appendChild(cardToPayIcon) //solo si el juego es pago (booleano)
        //appends mas especificos
        cardTitle.appendChild(title);
        cardFavIcon.appendChild(favIcon)
        game.paid && cardToPayIcon.appendChild(toPayIcon)

        // el append al container
        container.appendChild(card);
    });

}



// llamamos la funcion para renderizar segun el parametro pasado, esto se puede convertir en un loop mas adelante
renderGameCards('Aventura');
renderGameCards('Accion');
renderGameCards('Terror');
renderGameCards('Estrategia');
renderGameCards('parati');


let currentIndex = 0;

function navigateCarousel(direction) {
    const container = document.getElementById('aventura');
    const images = container.querySelectorAll('.cardGame');
    const slideWidth = images[0].clientWidth;

    if (direction === 'prev') {
        currentIndex = (currentIndex - 1 + images.length) % images.length;
    } else if (direction === 'next') {
        currentIndex = (currentIndex + 1) % images.length;
    }

    const offset = -currentIndex * slideWidth;

    // Apply a CSS transition for smooth animation
    container.style.transition = 'transform 0.5s ease-in-out';
    container.style.transform = `translateX(${offset}px)`;

    // Remove the transition after the animation completes
    setTimeout(() => {
        container.style.transition = 'none';
    }, 500); // 500ms matches the transition duration
}

const prevButton = document.getElementById('button-left');
prevButton.addEventListener('click', () => {
    navigateCarousel('prev');
});

const nextButton = document.getElementById('button-right');
nextButton.addEventListener('click', () => {
    navigateCarousel('next');
});